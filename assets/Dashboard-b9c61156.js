import{r as l,b as P,u as T,j as e,L as i}from"./index-5afd821c.js";import{c as D,i as I,g as R,b as B,d as E}from"./createLucideIcon-6899df1c.js";import{S as Z}from"./Skeleton-67b72c6d.js";import{T as O}from"./target-fe8451ea.js";import{Z as W}from"./zap-a8802a00.js";import{A as H,C as U}from"./calendar-810dc58e.js";import{P as C}from"./plus-6b55a125.js";import{P as G}from"./play-d4f686f2.js";const J=D("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),A=D("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),b=({icon:x,label:p,value:y,colorClass:n,trend:g,subtitle:h})=>e.jsx("div",{className:"p-6 rounded-3xl transition-all duration-300 transform hover:scale-105 hover:shadow-2xl",style:{background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.1)"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-4 rounded-2xl text-white mr-6 shadow-lg",style:{background:n.includes("blue")?"linear-gradient(135deg, #3b82f6, #1d4ed8)":n.includes("green")?"linear-gradient(135deg, #10b981, #059669)":n.includes("orange")?"linear-gradient(135deg, #f59e0b, #d97706)":"linear-gradient(135deg, #8b5cf6, #7c3aed)"},children:x}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600 mb-1",children:p}),e.jsx("p",{className:"text-3xl font-bold text-gray-800",children:y}),h&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:h})]})]}),g&&e.jsx("div",{className:"text-right",children:e.jsx("span",{className:"text-sm text-green-600 font-bold bg-green-100 px-3 py-1 rounded-full",children:g})})]})}),te=()=>{const[x,p]=l.useState([]),[y,n]=l.useState(0),[g,h]=l.useState(0),[j,F]=l.useState([]),[L,q]=l.useState(!0),[f,_]=l.useState({studied:0,accuracy:0}),[v,$]=l.useState(0),{language:k}=P(),{t:a,locale:N}=T();if(l.useEffect(()=>{(async()=>{try{await I();const d=await R(),c=await B(),m=await E(7),w=c.reduce((r,u)=>r+(u.totalCards||0),0),M=c.reduce((r,u)=>r+(u.correctPercentage||0)*(u.totalCards||0),0),z=new Date().toISOString().split("T")[0],o=m.find(r=>r.date===z);let S=0;for(let r=m.length-1;r>=0&&m[r].questions_answered>0;r--)S++;p(c),n(Math.max(w,d.length)),h(w>0?Math.round(M/w):0),F(m),_({studied:(o==null?void 0:o.questions_answered)||0,accuracy:o?Math.round(o.accuracy||0):0}),$(S)}catch(d){console.error("Dashboard verileri yÃ¼klenirken hata oluÅŸtu:",d)}finally{q(!1)}})()},[]),L)return e.jsx("div",{className:"min-h-screen p-8",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:e.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:Array.from({length:4}).map((s,d)=>e.jsx(Z,{},d))})});const t={dashboard:a("dash.title"),welcome:a("dash.welcome"),totalCards:a("dash.totalCards"),todayStudied:a("dash.todayStudied"),weeklyStreak:a("dash.weeklyStreak"),overallAccuracy:a("dash.overallAccuracy"),decks:a("dash.decks"),studyNow:a("dash.studyNow"),viewAll:a("dash.viewAll"),noDecks:a("dash.noDecks"),createFirstDeck:a("dash.createFirstDeck"),weeklyActivity:a("dash.weeklyActivity"),quickActions:a("dash.quickActions"),createCard:a("dash.createCard"),startStudying:a("dash.startStudying"),viewStats:a("dash.viewStats"),recentActivity:a("dash.recentActivity",{},"Recent Activity")};return e.jsx("div",{className:"min-h-screen p-8",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-12 p-8 rounded-3xl",style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[e.jsxs("h1",{className:"text-5xl font-bold text-white mb-3",children:["ðŸŽ¯ ",t.dashboard]}),e.jsx("p",{className:"text-xl text-white/90",children:t.welcome})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12",children:[e.jsx(b,{icon:e.jsx(A,{size:24}),label:t.totalCards,value:y,colorClass:"bg-gradient-to-r from-blue-500 to-blue-600",subtitle:`${a("dash.cardsCreatedSuffix")}`}),e.jsx(b,{icon:e.jsx(O,{size:24}),label:t.todayStudied,value:f.studied,colorClass:"bg-gradient-to-r from-green-500 to-green-600",trend:f.studied>0?`%${f.accuracy}`:void 0}),e.jsx(b,{icon:e.jsx(W,{size:24}),label:t.weeklyStreak,value:`${v} ${a("common.days")}`,colorClass:"bg-gradient-to-r from-orange-500 to-orange-600",subtitle:v>0?a("dash.ongoing"):a("dash.start")}),e.jsx(b,{icon:e.jsx(H,{size:24}),label:t.overallAccuracy,value:`%${g}`,colorClass:"bg-gradient-to-r from-purple-500 to-purple-600",subtitle:k==="tr"?"genel baÅŸarÄ± oranÄ±":"overall success"})]}),e.jsxs("div",{className:"mb-12 p-8 rounded-3xl",style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[e.jsxs("h2",{className:"text-3xl font-bold text-white mb-6",children:["âš¡ ",t.quickActions]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(i,{to:"/create",className:"p-6 rounded-2xl transition-all duration-300 transform hover:scale-105 group",style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.1)"},children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-4 rounded-xl mr-4 transition-all duration-300 group-hover:scale-110",style:{background:"linear-gradient(135deg, #3b82f6, #1d4ed8)"},children:e.jsx(C,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:t.createCard}),e.jsx("p",{className:"text-sm text-gray-600",children:a("dash.createCard.desc")})]})]})}),e.jsx(i,{to:"/study/all",className:"p-6 rounded-2xl transition-all duration-300 transform hover:scale-105 group",style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.1)"},children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-4 rounded-xl mr-4 transition-all duration-300 group-hover:scale-110",style:{background:"linear-gradient(135deg, #10b981, #059669)"},children:e.jsx(G,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:t.startStudying}),e.jsx("p",{className:"text-sm text-gray-600",children:a("dash.startStudying.desc")})]})]})}),e.jsx(i,{to:"/stats",className:"p-6 rounded-2xl transition-all duration-300 transform hover:scale-105 group",style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.1)"},children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-4 rounded-xl mr-4 transition-all duration-300 group-hover:scale-110",style:{background:"linear-gradient(135deg, #8b5cf6, #7c3aed)"},children:e.jsx(J,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:t.viewStats}),e.jsx("p",{className:"text-sm text-gray-600",children:a("dash.viewStats.desc")})]})]})})]})]}),e.jsxs("div",{className:"mb-12 p-8 rounded-3xl",style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("h2",{className:"text-3xl font-bold text-white",children:["ðŸ“š ",t.decks]}),e.jsxs(i,{to:"/manager",className:"px-4 py-2 rounded-xl text-white font-medium transition-all duration-300 hover:scale-105 flex items-center",style:{background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)"},children:[t.viewAll,e.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),x.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:x.slice(0,6).map(s=>e.jsxs("div",{className:"rounded-2xl overflow-hidden transition-all duration-300 transform hover:scale-105 hover:shadow-2xl",style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 15px 35px rgba(0, 0, 0, 0.1)"},children:[e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 truncate",children:s.subject}),e.jsxs("span",{className:"text-xs font-bold text-white px-3 py-1 rounded-full",style:{background:"linear-gradient(135deg, #3b82f6, #1d4ed8)"},children:[s.totalCards," ",a("common.cards")]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-3",children:[e.jsx("span",{className:"text-gray-600 font-medium",children:a("subject.successRate")}),e.jsxs("span",{className:"font-bold text-gray-800",children:[Math.round(s.correctPercentage||0),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"h-3 rounded-full transition-all duration-500 shadow-lg",style:{width:`${Math.min(s.correctPercentage||0,100)}%`,background:"linear-gradient(135deg, #10b981, #059669)"}})})]}),s.lastStudied&&e.jsxs("p",{className:"text-sm text-gray-500 mb-6 font-medium",children:["ðŸ“… ",a("subject.lastStudied")," ",new Date(s.lastStudied).toLocaleDateString(N)]})]}),e.jsx("div",{className:"px-8 pb-8",children:e.jsxs(i,{to:`/study/${encodeURIComponent(s.subject)}`,className:"block w-full text-center font-bold py-4 px-6 rounded-xl transition-all duration-300 transform hover:scale-105 text-white shadow-lg",style:{background:"linear-gradient(135deg, #8b5cf6, #7c3aed)"},children:["ðŸš€ ",t.studyNow]})})]},s.subject))}):e.jsxs("div",{className:"p-16 text-center rounded-3xl",style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.1)"},children:[e.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-8 shadow-lg",style:{background:"linear-gradient(135deg, #8b5cf6, #7c3aed)"},children:e.jsx(A,{size:48,className:"text-white"})}),e.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:["ðŸŽ¯ ",t.noDecks]}),e.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:t.createFirstDeck}),e.jsxs(i,{to:"/create",className:"inline-flex items-center text-white font-bold py-4 px-8 rounded-2xl transition-all duration-300 transform hover:scale-105 shadow-lg",style:{background:"linear-gradient(135deg, #3b82f6, #1d4ed8)"},children:[e.jsx(C,{className:"w-6 h-6 mr-3"}),"âœ¨ ",t.createCard]})]})]}),j.length>0&&e.jsxs("div",{className:"p-8 rounded-3xl",style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.1)"},children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[e.jsx(U,{className:"w-7 h-7 mr-3"}),"ðŸ“Š ",t.weeklyActivity]}),e.jsx("div",{className:"flex items-end space-x-3 h-40 bg-gray-50 rounded-2xl p-4",children:j.map((s,d)=>e.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[e.jsx("div",{className:"w-full rounded-t-xl transition-all duration-500 hover:scale-110 shadow-lg",style:{height:`${Math.max(s.questions_answered/Math.max(...j.map(c=>c.questions_answered))*100,s.questions_answered>0?12:0)}%`,minHeight:s.questions_answered>0?"12px":"4px",background:s.questions_answered>0?"linear-gradient(135deg, #8b5cf6, #7c3aed)":"#e5e7eb"}}),e.jsx("span",{className:"text-sm text-gray-600 mt-3 font-medium",children:new Date(s.date).toLocaleDateString(N,{weekday:"short"})}),e.jsx("span",{className:"text-xs text-gray-500",children:s.questions_answered})]},s.date))})]})]})})};export{te as default};
