import{i as S}from"./index-5afd821c.js";import{c as C}from"./createLucideIcon-6899df1c.js";const m=S((s,p)=>({cards:[],currentCard:null,currentSession:null,currentQuestionIndex:0,sessionCards:[],userAnswers:{},subjects:[],dailyStats:[],isLoading:!1,setCards:e=>s({cards:e}),addCard:e=>s(r=>({cards:[...r.cards,e]})),updateCard:e=>s(r=>({cards:r.cards.map(n=>n.id===e.id?e:n)})),deleteCard:e=>s(r=>({cards:r.cards.filter(n=>n.id!==e)})),startSession:(e,r)=>{const n={id:Date.now(),started_at:new Date().toISOString(),total_questions:e.length,correct_answers:0,session_type:r};s({currentSession:n,sessionCards:e,currentQuestionIndex:0,userAnswers:{}})},answerQuestion:(e,r)=>s(n=>({userAnswers:{...n.userAnswers,[e]:r}})),nextQuestion:()=>s(e=>({currentQuestionIndex:e.currentQuestionIndex+1})),endSession:()=>{const e=p();if(e.currentSession){const r=e.sessionCards.reduce((a,t)=>{var u;const d=e.userAnswers[t.id];if(t.question_type==="fill_in_blank"){const o=l=>l.toLowerCase().replace(/[.,;:!?]/g,"").trim(),c=o(d||""),w=o(t.blank_answer||"");return c===w||(u=t.blank_answer)!=null&&u.includes(",")&&t.blank_answer.split(",").map(i=>o(i)).some(i=>c===i)?a+1:a}return d===t.correct_answer?a+1:a},0),n={...e.currentSession,ended_at:new Date().toISOString(),correct_answers:r};s({currentSession:n,currentQuestionIndex:0,sessionCards:[],userAnswers:{}})}},updateSubjects:e=>s({subjects:e}),updateDailyStats:e=>s({dailyStats:e}),setLoading:e=>s({isLoading:e}),setCurrentCard:e=>s({currentCard:e})})),x=C("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);export{x as B,m as u};
