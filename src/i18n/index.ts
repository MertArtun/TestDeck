import { useThemeStore } from '../store/themeStore';

type Language = 'tr' | 'en';

// Minimal dictionary covering common UI strings used across pages
const dictionaries: Record<Language, Record<string, string>> = {
  tr: {
    'common.user': 'Kullanıcı',
    'common.premiumMember': 'Premium Üye',
    'common.search': 'Ara...',
    'common.question': 'Soru',
    'common.hints': 'İpuçları',
    'common.cards': 'kart',
    'common.day': 'gün',
    'common.days': 'gün',
    'common.selected': 'Seçili',
    'common.close': 'Kapat',

    'theme.title.light': 'Tema: Açık',
    'theme.title.dark': 'Tema: Koyu',
    'theme.title.auto': 'Tema: Otomatik',

    'layout.quick.today': 'Bugün',
    'layout.quick.streak': 'Seri',
    'layout.quick.accuracy': 'Başarı',
    'layout.fab.tooltip': 'Hızlı Eylemler',
    'fab.quickAdd': 'Hızlı Ekleme',
    'fab.quickAdd.desc': 'Aynı konudan art arda kart ekle',
    'fab.newCard': 'Yeni Kart',
    'fab.newCard.desc': 'Gelişmiş form ile kart oluştur',
    'fab.bulkImport': 'Toplu Import',
    'fab.bulkImport.desc': 'CSV/JSON/XML dosyası yükle',
    'fab.quickTest': 'Hızlı Test',
    'fab.quickTest.desc': '10 soruluk kısa test',

    'nav.dashboard': 'Dashboard',
    'nav.dashboard.desc': 'Genel bakış ve istatistikler',
    'nav.create': 'Kart Oluştur',
    'nav.create.desc': 'Yeni test kartları ekle',
    'nav.study': 'Çalışma',
    'nav.study.desc': 'Spaced repetition ile öğren',
    'nav.stats': 'İstatistikler',
    'nav.stats.desc': 'Performans analizi',
    'nav.settings': 'Ayarlar',
    'nav.settings.desc': 'Uygulama tercihleri',

    // Dashboard
    'dash.title': 'Gösterge Paneli',
    'dash.welcome': 'Tekrar hoş geldin!',
    'dash.totalCards': 'Toplam Kart',
    'dash.todayStudied': 'Bugün Çalışılan',
    'dash.weeklyStreak': 'Haftalık Seri',
    'dash.overallAccuracy': 'Genel Başarı',
    'dash.decks': 'Konular',
    'dash.studyNow': 'Şimdi Çalış',
    'dash.viewAll': 'Tümünü Gör',
    'dash.noDecks': 'Henüz hiç kart oluşturmadın.',
    'dash.createFirstDeck': 'Hadi ilk kartını oluşturarak başla!'
      ,
    'dash.quickActions': 'Hızlı İşlemler',
    'dash.createCard': 'Kart Oluştur',
    'dash.createCard.desc': 'Yeni test kartları ekle',
    'dash.startStudying': 'Çalışmaya Başla',
    'dash.startStudying.desc': 'Tüm kartları karışık çalış',
    'dash.viewStats': 'İstatistikleri Gör',
    'dash.viewStats.desc': 'Detaylı performans analizi',
    'dash.cardsCreatedSuffix': 'kart oluşturuldu',
    'dash.ongoing': 'devam ediyor!',
    'dash.start': 'başlayın',
    'subject.successRate': 'Başarı Oranı',
    'subject.lastStudied': 'Son çalışma:',
    'subject.unknown': 'Bilinmeyen Konu',

    // Study
    'study.header': 'Çalışma Oturumu',
    'study.header.subtitle': 'Çalışma parametrelerinizi seçin',
    'study.selectSubject': 'Hangi Konuyu Çalışacaksın?',
    'study.mixedStudy': 'Karışık Çalış',
    'study.allSubjects': 'Tüm konular',
    'study.noSubjects': 'Henüz konu yok, hemen oluşturun!',
    'study.createFirstCard': 'İlk Kartını Oluştur',
    'study.difficulty': 'Zorluk Seviyesi',
    'study.all': 'Tümü',
    'study.easy': 'Kolay',
    'study.medium': 'Orta',
    'study.hard': 'Zor',
    'study.questionCount': 'Soru Sayısı',
    'study.noCardsMatch': 'Bu kriterlere uygun hiç kart bulunamadı.',
    'study.type': 'Çalışma Tipi',
    'study.practice': 'Pratik',
    'study.practice.desc': 'Spaced repetition ile öğren',
    'study.test': 'Test',
    'study.test.desc': 'Hızlı çözüm',
    'study.start': 'Hadi Başlayalım!',
    'study.noCards': 'Kart Yok',
    'study.readyWithCount': 'kart ile çalışmaya hazırsın! 🎯',
    'study.needCreateCards': 'Çalışmaya başlamak için önce kart oluşturmalısınız.',
    'study.exit': 'Çıkış',
    'study.practiceMode': '🎯 Pratik Modu',
    'study.testMode': '⚡ Test Modu',
    'study.question': 'Soru',
    'study.completed': '% tamamlandı',
    'study.fillInBlank': '✏️ Boşluk Doldurma',
    'study.multipleChoice': '📋 Çoktan Seçmeli',
    'study.correct': '🎉 Harika! Doğru cevap!',
    'study.wrong': '❌ Yanlış cevap',
    'study.correctAnswer': 'Doğru cevap:',
    'study.howWasQuestion': 'Bu soru sizin için nasıldı?',
    'study.skip': 'Geç (Skip)',
    'study.retryIncorrect': '❌ Yanlışları Tekrar Et',
    'study.viewStatistics': '📊 İstatistikleri Gör',
    'study.home': '🏠 Ana Sayfa',
    'study.completedTitle': '🎉 Çalışma Tamamlandı!',
    'study.completedDesc': 'Harika iş çıkardınız. İşte sonuçlarınız:',
    'study.correctCount': '✅ Doğru Cevap',
    'study.wrongCount': '❌ Yanlış Cevap',
    'study.totalQuestions': '📊 Toplam Soru',
    'study.successRate': '🎯 Başarı Oranı',
    'study.perQuestionResults': '📋 Soru Bazlı Sonuçlar',
    'study.givenAnswer': 'Verdiğiniz cevap:',
    'study.rightAnswer': 'Doğru cevap:',
    'study.retry': 'Tekrar Çalış',

    // Create
    'create.title': 'Kart Oluştur',
    'create.subtitle': 'Yeni çalışma kartları oluşturun veya JSON dosyasından toplu olarak içe aktarın.',
    'create.quickActions': '⚡ Hızlı İşlemler',
    'create.jsonImport': '📄 JSON İçe Aktar',
    'create.fromFile': '📁 Dosyadan Yükle',
    'create.sampleDownload': '💾 Örnek JSON İndir',
    'create.dragDrop.title': 'Dosyayı sürükleyip bırakın',
    'create.dragDrop.sub': 'JSON, CSV veya XML desteklenir',
    'create.importTitle': '📄 JSON İçe Aktarma',
    'create.pasteJson': 'JSON verilerini buraya yapıştırın...',
    'create.import': '📤 İçe Aktar',
    'create.import.success': 'İçe aktarma',
    'create.import.error': 'İçe aktarma hatası',
    'create.manualTitle': '✏️ Manuel Kart Oluşturma',
    'create.questionType': '📝 Soru Tipi *',
    'create.multipleChoice': '🔘 Çoktan Seçmeli',
    'create.multipleChoice.desc': 'A, B, C, D seçenekleri',
    'create.fillInBlank': '📝 Boşluk Doldurma',
    'create.fillInBlank.desc': 'Metin tabanlı cevap',
    'create.question': 'Soru *',
    'create.options': 'Seçenekler *',
    'create.option': 'Seçenek',
    'create.optionOptional': 'Seçenek (isteğe bağlı)',
    'create.answer': 'Doğru Cevap *',
    'create.answerHint': '💡 İpucu: Birden fazla doğru cevap varsa virgülle ayırın',
    'create.subject': 'Konu *',
    'create.subject.placeholder': 'Örn: Matematik, Tarih, Coğrafya...',
    'create.difficulty': 'Zorluk',
    'create.save': 'Kartı Kaydet',
    'create.saving': 'Kaydediliyor...',
    'create.saved': 'Kaydedildi!',
    'create.error': 'Hata!',
    'create.validation.fillQuestion': 'Lütfen soru alanını doldurun.',
    'create.validation.fillOptions4': 'Lütfen soru ve en az 4 seçenek doldurun.',
    'create.validation.fillBlankAnswer': 'Lütfen boşluk doldurma cevabını doldurun.',
    'create.validation.fillSubject': 'Lütfen konu alanını doldurun.',
    'create.import.empty': 'JSON metin alanı boş.',
    'create.import.parseError': 'JSON parse edilemedi.',

    // Card Manager
    'manager.title': 'Kart Yöneticisi',
    'manager.subtitle.all': 'Tüm kartları görüntüle ve düzenle',
    'manager.newCard': 'Yeni Kart',
    'manager.search': 'Soru, seçenek veya cevap ara...',
    'manager.allSubjects': 'Tüm Konular',
    'manager.notFoundTitle': 'Kart bulunamadı',
    'manager.noResults': 'Filtrelere uygun kart bulunamadı.',
    'manager.noCardsYet': 'Henüz hiç kart oluşturulmamış.',
    'manager.correctAnswer': '(Doğru Cevap)',

    // Statistics
    'stats.title': '📊 İstatistikler',
    'stats.subtitle': 'Çalışma performansınızı inceleyin',
    'stats.lastNDays': 'Son {days} gün',
    'stats.main.totalQuestions': 'Toplam Soru',
    'stats.main.correct': 'Doğru Cevap',
    'stats.main.totalCards': 'Toplam Kart',
    'stats.main.avgTime': 'Ortalama Süre',
    'stats.noStatsTitle': 'Henüz İstatistik Yok',
    'stats.noStatsDesc': 'İstatistikleri görmek için önce birkaç kart oluşturun ve test çözmeye başlayın.',
    'stats.dailyActivity': 'Günlük Aktivite',
    'stats.bySubject': 'Konulara Göre Başarı',
    'stats.accuracyDist': 'Başarı Dağılımı',
    'stats.subjectDetails': 'Konu Detayları',
    'stats.noSubjectData': 'Henüz konu verisi yok',

    // Quick Add
    'quick.title': '⚡ Hızlı Kart Ekleme',
    'quick.thisSession': 'Bu Oturum',
    'quick.cardsAdded': 'Eklenen Kartlar',
    'quick.activeSubject': 'Aktif Konu',
    'quick.recent': 'Son Eklenenler',
    'quick.question': '📝 Soru',
    'quick.option': 'Seçenek',
    'quick.subject': '📚 Konu',
    'quick.difficulty': '🎯 Zorluk',
    'quick.addAndContinue': 'Ekle & Devam (Ctrl+Enter)',
    'quick.save': 'Kaydet',
    'quick.resetForm': 'Formu Temizle (Ctrl+R)',
    'quick.templates': 'Hızlı Şablonlar',
    'quick.notSelected': 'Seçilmedi',

    // Error boundary
    'error.title': 'Bir şeyler ters gitti.',
    'error.desc': 'Uygulama bir hatayla karşılaştı ve yeniden başlatılması gerekiyor.',
    'error.reload': 'Sayfayı Yenile',

    // Units
    'unit.minutesShort': 'dk',
    'unit.minutesLong': 'dakika',
    'unit.secondsLong': 'saniye',

    // Settings
    'settings.title': 'Ayarlar',
    'settings.subtitle': 'Tema, dil ve çalışma tercihlerinizi özelleştirin',
    'settings.section.theme': 'Tema Ayarları',
    'settings.theme.mode': 'Tema Modu',
    'settings.theme.light': 'Açık Tema',
    'settings.theme.dark': 'Koyu Tema',
    'settings.theme.auto': 'Otomatik',
    'settings.theme.colorScheme': 'Renk Şeması',
    'settings.theme.fontSize': 'Yazı Boyutu',
    'settings.color.blue': 'Mavi',
    'settings.color.purple': 'Mor',
    'settings.color.green': 'Yeşil',
    'settings.color.orange': 'Turuncu',
    'settings.color.pink': 'Pembe',
    'settings.font.small': 'Küçük',
    'settings.font.medium': 'Orta',
    'settings.font.large': 'Büyük',

    'settings.section.app': 'Uygulama Ayarları',
    'settings.app.sound': 'Ses Efektleri',
    'settings.app.sound.desc': 'Bildirim ve etkileşim sesleri',
    'settings.app.animations': 'Animasyonlar',
    'settings.app.animations.desc': 'Geçiş ve hover animasyonları',
    'settings.app.autoSave': 'Otomatik Kaydetme',
    'settings.app.autoSave.desc': 'Değişiklikleri otomatik kaydet',

    'settings.section.study': 'Çalışma Ayarları',
    'settings.study.questionsPerSession': 'Oturum Başına Soru Sayısı: {count}',
    'settings.study.timePerQuestion': 'Soru Başına Süre: {value}',
    'settings.unlimited': 'Sınırsız',
    'settings.study.hints': 'İpuçlarını Göster',
    'settings.study.hints.desc': 'Sorularda ipucu butonunu göster',
    'settings.study.progress': 'İlerleme Çubuğu',
    'settings.study.progress.desc': 'Çalışma ilerlemesini göster',

    'settings.section.notifications': 'Bildirim Ayarları',
    'settings.notifications.reminders': 'Çalışma Hatırlatmaları',
    'settings.notifications.reminders.desc': 'Düzenli çalışma hatırlatmaları al',
    'settings.notifications.achievements': 'Başarı Bildirimleri',
    'settings.notifications.achievements.desc': 'Başarı rozetleri için bildirim al',

    'settings.section.data': 'Veri Yönetimi',
    'settings.data.export': 'Verileri Dışa Aktar',
    'settings.data.export.desc': 'Kartlar ve istatistikleri JSON olarak kaydet',
    'settings.data.import': 'Verileri İçe Aktar',
    'settings.data.import.choose': 'JSON yedek dosyası seç',
    'settings.data.import.action': 'İçe Aktar',
    'settings.data.import.success': 'Veriler başarıyla içe aktarıldı! ',
    'settings.data.wipe': 'Tüm Kartları Sil',
    'settings.data.wipe.desc': 'Tüm kartlar, oturumlar ve denemeleri temizle',
    'settings.data.wipe.confirm': '⚠️ Tüm kartlar, oturumlar ve denemeler kalıcı olarak silinecek. Emin misiniz?',
    'settings.data.wipe.done': '🧹 Tüm kartlar silindi',
    'settings.data.seedEnglish': 'İngilizce İçerik Yükle (100)',
    'settings.data.seedEnglish.desc': 'Kelime + deyimlerden oluşan 100 soru ekle',
    'settings.data.seedEnglish.done': '✅ İngilizce içerik yüklendi: {count} kart',
    'settings.data.clean': 'Depolama Temizle',
    'settings.data.clean.desc': 'Hafıza alanı açmak için eski verileri temizle',
    'settings.data.reset': 'Ayarları Sıfırla',
    'settings.data.reset.desc': 'Tüm ayarları varsayılana döndür',
    'settings.clean.confirm': '🧹 Eski veriler (30+ gün) temizlenecek. Devam edilsin mi?',
    'settings.clean.done': '✅ Temizlik tamamlandı!\n🗑️ {count} öğe temizlendi',
    'settings.reset.confirm': 'Tüm ayarları varsayılan değerlere sıfırlamak istediğinizden emin misiniz?',
    'settings.reset.done': 'Ayarlar sıfırlandı!',
    'study.noCardsMatchAlert': 'Seçilen kriterlere uygun kart bulunamadı!',
    'study.startError': 'Çalışma başlatılırken bir hata oluştu.',
  },
  en: {
    'common.user': 'User',
    'common.premiumMember': 'Premium Member',
    'common.search': 'Search...',
    'common.question': 'Question',
    'common.hints': 'Hints',
    'common.cards': 'cards',
    'common.day': 'day',
    'common.days': 'days',
    'common.selected': 'Selected',
    'common.close': 'Close',

    'theme.title.light': 'Theme: Light',
    'theme.title.dark': 'Theme: Dark',
    'theme.title.auto': 'Theme: Auto',

    'layout.quick.today': 'Today',
    'layout.quick.streak': 'Streak',
    'layout.quick.accuracy': 'Accuracy',
    'layout.fab.tooltip': 'Quick Actions',
    'fab.quickAdd': 'Quick Add',
    'fab.quickAdd.desc': 'Add cards consecutively for same subject',
    'fab.newCard': 'New Card',
    'fab.newCard.desc': 'Create card with advanced form',
    'fab.bulkImport': 'Bulk Import',
    'fab.bulkImport.desc': 'Upload CSV/JSON/XML file',
    'fab.quickTest': 'Quick Test',
    'fab.quickTest.desc': 'Short 10-question test',

    'nav.dashboard': 'Dashboard',
    'nav.dashboard.desc': 'Overview & stats',
    'nav.create': 'Create Card',
    'nav.create.desc': 'Add new flashcards',
    'nav.study': 'Study',
    'nav.study.desc': 'Learn with spaced repetition',
    'nav.stats': 'Statistics',
    'nav.stats.desc': 'Performance analytics',
    'nav.settings': 'Settings',
    'nav.settings.desc': 'App preferences',

    // Dashboard
    'dash.title': 'Dashboard',
    'dash.welcome': 'Welcome back!',
    'dash.totalCards': 'Total Cards',
    'dash.todayStudied': 'Studied Today',
    'dash.weeklyStreak': 'Weekly Streak',
    'dash.overallAccuracy': 'Overall Accuracy',
    'dash.decks': 'Subjects',
    'dash.studyNow': 'Study Now',
    'dash.viewAll': 'View All',
    'dash.noDecks': "You haven't created any cards yet.",
    'dash.createFirstDeck': 'Get started by creating your first card!',
    'dash.quickActions': 'Quick Actions',
    'dash.createCard': 'Create Card',
    'dash.createCard.desc': 'Add new flashcards',
    'dash.startStudying': 'Start Studying',
    'dash.startStudying.desc': 'Study all cards shuffled',
    'dash.viewStats': 'View Statistics',
    'dash.viewStats.desc': 'Detailed performance analysis',
    'dash.cardsCreatedSuffix': 'cards created',
    'dash.ongoing': 'ongoing!',
    'dash.start': 'start',
    'subject.successRate': 'Success Rate',
    'subject.lastStudied': 'Last studied:',
    'subject.unknown': 'Unknown Subject',

    // Study
    'study.header': 'Study Session',
    'study.header.subtitle': 'Choose your study parameters',
    'study.selectSubject': 'Which subject will you study?',
    'study.mixedStudy': 'Mixed Study',
    'study.allSubjects': 'All subjects',
    'study.noSubjects': 'No subjects yet, create one!',
    'study.createFirstCard': 'Create Your First Card',
    'study.difficulty': 'Difficulty Level',
    'study.all': 'All',
    'study.easy': 'Easy',
    'study.medium': 'Medium',
    'study.hard': 'Hard',
    'study.questionCount': 'Number of Questions',
    'study.noCardsMatch': 'No cards match these criteria.',
    'study.type': 'Study Type',
    'study.practice': 'Practice',
    'study.practice.desc': 'Learn with spaced repetition',
    'study.test': 'Test',
    'study.test.desc': 'Quick solve',
    'study.start': "Let's Start!",
    'study.noCards': 'No Cards',
    'study.readyWithCount': 'cards ready to study! 🎯',
    'study.needCreateCards': 'Create some cards to start studying.',
    'study.exit': 'Exit',
    'study.practiceMode': '🎯 Practice Mode',
    'study.testMode': '⚡ Test Mode',
    'study.question': 'Question',
    'study.completed': '% completed',
    'study.fillInBlank': '✏️ Fill in the Blank',
    'study.multipleChoice': '📋 Multiple Choice',
    'study.correct': '🎉 Great! Correct answer!',
    'study.wrong': '❌ Wrong answer',
    'study.correctAnswer': 'Correct answer:',
    'study.howWasQuestion': 'How was this question for you?',
    'study.skip': 'Skip',
    'study.retryIncorrect': '❌ Retry Incorrect',
    'study.viewStatistics': '📊 View Statistics',
    'study.home': '🏠 Home',
    'study.completedTitle': '🎉 Study Completed!',
    'study.completedDesc': 'Great job. Here are your results:',
    'study.correctCount': '✅ Correct Answers',
    'study.wrongCount': '❌ Wrong Answers',
    'study.totalQuestions': '📊 Total Questions',
    'study.successRate': '🎯 Success Rate',
    'study.perQuestionResults': '📋 Question-wise Results',
    'study.givenAnswer': 'Your answer:',
    'study.rightAnswer': 'Right answer:',
    'study.retry': 'Study Again',

    // Create
    'create.title': 'Create Card',
    'create.subtitle': 'Create new cards or bulk import from JSON.',
    'create.quickActions': '⚡ Quick Actions',
    'create.jsonImport': '📄 Import JSON',
    'create.fromFile': '📁 Upload from File',
    'create.sampleDownload': '💾 Download Sample JSON',
    'create.dragDrop.title': 'Drag and drop the file',
    'create.dragDrop.sub': 'JSON, CSV or XML are supported',
    'create.importTitle': '📄 JSON Import',
    'create.pasteJson': 'Paste JSON here...',
    'create.import': '📤 Import',
    'create.import.success': 'Import',
    'create.import.error': 'Import error',
    'create.manualTitle': '✏️ Manual Card Creation',
    'create.questionType': '📝 Question Type *',
    'create.multipleChoice': '🔘 Multiple Choice',
    'create.multipleChoice.desc': 'Options A, B, C, D',
    'create.fillInBlank': '📝 Fill in the Blank',
    'create.fillInBlank.desc': 'Text-based answer',
    'create.question': 'Question *',
    'create.options': 'Options *',
    'create.option': 'Option',
    'create.optionOptional': 'Option (optional)',
    'create.answer': 'Correct Answer *',
    'create.answerHint': '💡 Tip: If multiple correct answers, separate by commas',
    'create.subject': 'Subject *',
    'create.subject.placeholder': 'e.g., Math, History, Geography...',
    'create.difficulty': 'Difficulty',
    'create.save': 'Save Card',
    'create.saving': 'Saving...',
    'create.saved': 'Saved!',
    'create.error': 'Error!',
    'create.validation.fillQuestion': 'Please fill the question field.',
    'create.validation.fillOptions4': 'Please fill the question and at least 4 options.',
    'create.validation.fillBlankAnswer': 'Please fill the blank answer.',
    'create.validation.fillSubject': 'Please fill the subject.',
    'create.import.empty': 'JSON text area is empty.',
    'create.import.parseError': 'Could not parse JSON.',

    // Card Manager
    'manager.title': 'Card Manager',
    'manager.subtitle.all': 'View and edit all cards',
    'manager.newCard': 'New Card',
    'manager.search': 'Search question, option or answer...',
    'manager.allSubjects': 'All Subjects',
    'manager.notFoundTitle': 'No cards found',
    'manager.noResults': 'No cards match the filters.',
    'manager.noCardsYet': 'No cards created yet.',
    'manager.correctAnswer': '(Correct Answer)',

    // Statistics
    'stats.title': '📊 Statistics',
    'stats.subtitle': 'Review your performance',
    'stats.lastNDays': 'Last {days} days',
    'stats.main.totalQuestions': 'Total Questions',
    'stats.main.correct': 'Correct Answers',
    'stats.main.totalCards': 'Total Cards',
    'stats.main.avgTime': 'Average Time',
    'stats.noStatsTitle': 'No Statistics Yet',
    'stats.noStatsDesc': 'Create some cards and start studying to see stats.',
    'stats.dailyActivity': 'Daily Activity',
    'stats.bySubject': 'Performance by Subject',
    'stats.accuracyDist': 'Accuracy Distribution',
    'stats.subjectDetails': 'Subject Details',
    'stats.noSubjectData': 'No subject data yet',

    // Quick Add
    'quick.title': '⚡ Quick Card Add',
    'quick.thisSession': 'This Session',
    'quick.cardsAdded': 'Cards Added',
    'quick.activeSubject': 'Active Subject',
    'quick.recent': 'Recent',
    'quick.question': '📝 Question',
    'quick.option': 'Option',
    'quick.subject': '📚 Subject',
    'quick.difficulty': '🎯 Difficulty',
    'quick.addAndContinue': 'Add & Continue (Ctrl+Enter)',
    'quick.save': 'Save',
    'quick.resetForm': 'Reset Form (Ctrl+R)',
    'quick.templates': 'Quick Templates',
    'quick.notSelected': 'Not selected',

    // Error boundary
    'error.title': 'Something went wrong.',
    'error.desc': 'The app encountered an error and needs to restart.',
    'error.reload': 'Reload Page',

    // Units
    'unit.minutesShort': 'min',
    'unit.minutesLong': 'minutes',
    'unit.secondsLong': 'seconds',

    // Settings
    'settings.title': 'Settings',
    'settings.subtitle': 'Customize your theme, language and study preferences',
    'settings.section.theme': 'Theme Settings',
    'settings.theme.mode': 'Theme Mode',
    'settings.theme.light': 'Light',
    'settings.theme.dark': 'Dark',
    'settings.theme.auto': 'Auto',
    'settings.theme.colorScheme': 'Color Scheme',
    'settings.theme.fontSize': 'Font Size',
    'settings.color.blue': 'Blue',
    'settings.color.purple': 'Purple',
    'settings.color.green': 'Green',
    'settings.color.orange': 'Orange',
    'settings.color.pink': 'Pink',
    'settings.font.small': 'Small',
    'settings.font.medium': 'Medium',
    'settings.font.large': 'Large',

    'settings.section.app': 'App Settings',
    'settings.app.sound': 'Sound Effects',
    'settings.app.sound.desc': 'Notification and interaction sounds',
    'settings.app.animations': 'Animations',
    'settings.app.animations.desc': 'Page transition and hover animations',
    'settings.app.autoSave': 'Auto Save',
    'settings.app.autoSave.desc': 'Automatically save changes',

    'settings.section.study': 'Study Settings',
    'settings.study.questionsPerSession': 'Questions per Session: {count}',
    'settings.study.timePerQuestion': 'Time per Question: {value}',
    'settings.unlimited': 'Unlimited',
    'settings.study.hints': 'Show Hints',
    'settings.study.hints.desc': 'Show hint button on questions',
    'settings.study.progress': 'Progress Bar',
    'settings.study.progress.desc': 'Show study progress',

    'settings.section.notifications': 'Notification Settings',
    'settings.notifications.reminders': 'Study Reminders',
    'settings.notifications.reminders.desc': 'Receive regular study reminders',
    'settings.notifications.achievements': 'Achievement Notifications',
    'settings.notifications.achievements.desc': 'Get notified for achievement badges',

    'settings.section.data': 'Data Management',
    'settings.data.export': 'Export Data',
    'settings.data.export.desc': 'Save cards and statistics as JSON',
    'settings.data.import': 'Import Data',
    'settings.data.import.choose': 'Choose JSON backup file',
    'settings.data.import.action': 'Import',
    'settings.data.import.success': 'Data imported successfully!',
    'settings.data.wipe': 'Delete All Cards',
    'settings.data.wipe.desc': 'Clear all cards, sessions and attempts',
    'settings.data.wipe.confirm': '⚠️ All cards, sessions and attempts will be permanently deleted. Are you sure?',
    'settings.data.wipe.done': '🧹 All cards deleted',
    'settings.data.seedEnglish': 'Load English Content (100)',
    'settings.data.seedEnglish.desc': 'Add 100 questions (vocabulary + idioms)',
    'settings.data.seedEnglish.done': '✅ English content loaded: {count} cards',
    'settings.data.clean': 'Clean Storage',
    'settings.data.clean.desc': 'Clean old data to free up space',
    'settings.data.reset': 'Reset Settings',
    'settings.data.reset.desc': 'Reset all settings to default',
    'settings.clean.confirm': '🧹 Old data (30+ days) will be cleaned. Continue?',
    'settings.clean.done': '✅ Cleanup finished!\n🗑️ {count} items cleaned',
    'settings.reset.confirm': 'Are you sure you want to reset all settings to default values?',
    'settings.reset.done': 'Settings have been reset!',
    'study.noCardsMatchAlert': 'No cards match the selected criteria!',
    'study.startError': 'An error occurred while starting the study.',
  },
};

export function getLocale(language: Language): string {
  return language === 'en' ? 'en-US' : 'tr-TR';
}

export function useI18n() {
  const { language } = useThemeStore();

  function format(template: string, params?: Record<string, string | number>): string {
    if (!params) return template;
    return Object.keys(params).reduce((acc, k) => acc.replace(new RegExp(`{${k}}`, 'g'), String(params[k])), template);
  }

  function t(key: string, params?: Record<string, string | number>, fallback?: string): string {
    const dict = dictionaries[language as Language] || dictionaries.tr;
    const value = dict[key] ?? fallback ?? key;
    return format(value, params);
  }

  return { t, language: language as Language, locale: getLocale(language as Language) };
}

export function tFor(language: Language, key: string, params?: Record<string, string | number>, fallback?: string): string {
  const dict = dictionaries[language] || dictionaries.tr;
  const template = dict[key] ?? fallback ?? key;
  if (!params) return template;
  return Object.keys(params).reduce((acc, k) => acc.replace(new RegExp(`{${k}}`, 'g'), String(params[k])), template);
}


